<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
  <script>
    function redirectToSummoner(summoner) {
      window.location.href = "/search?summoner=" + encodeURIComponent(summoner);
    }
  </script>
  <body>
    <div
      th:fragment="teamInfo(teamId, team, participants, teamGold, teamMaxDealt, gameTime)"
    >
      <div class="team" th:class="${teamId == 100 ? 'blue-team' : 'red-team'}">
        <div class="team-header">
          <h3
            class="team-name"
            th:text="${teamId == 100 ? '블루팀' : '레드팀'}"
          ></h3>
          <span
            class="team-result"
            th:text="${team.win ? '승리' : '패배'}"
            th:class="${team.win ? 'win-text' : 'lose-text'}"
          ></span>
        </div>
        <div class="team-stats">
          <div class="team-info">
            <div class="objective">
              <svg
                class="objective-icon"
                width="20"
                height="20"
                viewBox="0 0 20 20"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M13.635 2.5V4.58333H11.1825V2.5H8.81752V4.58333H6.36496V2.5H4V8.75L5.83942 9.25V14.9167L4 15.4167V17.5H16V15.4167L14.073 14.9167V9.25L16 8.75V2.5H13.635ZM11.1825 13.9167H8.81752V10L9.9562 9.16667L11.0949 10V13.9167H11.1825Z"
                  fill="currentColor"
                ></path>
              </svg>
              <span th:text="${team.objectives.tower.kills}">0</span>
            </div>
            <div class="objective">
              <svg
                class="objective-icon"
                width="20"
                height="20"
                viewBox="0 0 20 20"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M15.0357 8.73753L17 6.16463C17 6.16463 15.5848 4.08573 15.5543 4.01711C15.5543 4.01711 15.5542 4.01711 15.5481 4.01025L12.1625 1.99996C12.1564 1.99996 12.1442 2.00682 12.1503 2.01368C12.1503 2.01368 14.139 4.86789 14.139 4.87475C14.139 4.87475 14.139 6.14404 14.139 6.15091L12.3028 7.02912L10.0091 4.89533L7.70937 7.02912L5.861 6.15777C5.861 6.15091 5.861 4.88161 5.861 4.88161L7.84967 2.02055C7.85577 2.01368 7.84968 1.99996 7.83748 2.00682L4.45185 4.01711C4.45185 4.01711 4.45185 4.01711 4.44575 4.02398C4.41525 4.09259 3 6.17149 3 6.17149L4.96427 8.74439C4.96427 8.74439 4.57995 9.80099 4.44575 10.0823L3.00609 11.4476L6.44662 16.9091L8.61829 18L6.77603 14.6655L7.64226 14.8096L8.6427 15.9554V15.1663L9.04531 15.2075L9.99695 16.4356C9.99695 16.4356 10.9425 15.2075 10.9486 15.2075L11.3512 15.1663V15.9554L12.3516 14.8096L13.2179 14.6655L11.3756 18L13.5473 16.9091L16.9878 11.4476L15.5481 10.0823C15.4261 9.79413 15.0357 8.73753 15.0357 8.73753ZM7.45316 12.2641C6.98954 12.2641 6.61743 11.8387 6.61743 11.3241C6.61743 10.8027 6.98954 10.3842 7.45316 10.3842C7.91678 10.3842 8.28889 10.8027 8.28889 11.3241C8.28889 11.8456 7.91678 12.2641 7.45316 12.2641ZM10.0091 13.7667C9.55163 13.7598 9.18562 13.3413 9.18562 12.8267C9.18562 12.3121 9.55163 11.8936 10.0091 11.8868C10.4667 11.8936 10.8327 12.3121 10.8327 12.8267C10.8327 13.3482 10.4606 13.7598 10.0091 13.7667ZM10.0091 10.3293C9.46623 10.3293 9.02702 9.8353 9.02702 9.22466C9.02702 8.61403 9.46623 8.12003 10.0091 8.12003C10.5521 8.12003 10.9913 8.61403 10.9913 9.22466C10.9852 9.8353 10.546 10.3293 10.0091 10.3293ZM12.559 12.2641C12.0954 12.2641 11.7233 11.8456 11.7233 11.3241C11.7233 10.8027 12.0954 10.3842 12.559 10.3842C13.0227 10.3842 13.3948 10.8027 13.3948 11.3241C13.3948 11.8387 13.0227 12.2641 12.559 12.2641Z"
                  fill="currentColor"
                ></path>
              </svg>
              <span th:text="${team.objectives.dragon.kills}">0</span>
            </div>
            <div class="objective">
              <svg
                class="objective-icon"
                width="20"
                height="20"
                viewBox="0 0 20 20"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M17.8697 7.08361L15.5522 7.42609C15.4132 7.42609 15.3205 7.38328 15.3205 7.25485L15.1351 3.61605C15.1351 3.48763 15.0424 3.48763 14.9497 3.57324L12.0297 6.27023C11.937 6.35585 11.8443 6.31304 11.7979 6.22742L10.1294 2.28896C10.083 2.16054 10.0367 2.07492 10.0367 2.03211C10.0367 1.9893 10.0367 1.9893 10.0367 2.03211C10.0367 2.03211 9.99032 2.16054 9.94398 2.28896L8.2754 6.22742C8.22905 6.35585 8.13635 6.35585 8.04366 6.27023L5.03096 3.57324C4.93826 3.48763 4.84556 3.53043 4.84556 3.65886L4.66016 7.29766C4.66016 7.42609 4.56746 7.51171 4.42842 7.4689L2.11095 7.12642C1.97191 7.12642 1.97191 7.16923 2.06461 7.25485L4.52111 9.39532C4.61381 9.48094 4.70651 9.65217 4.70651 9.73779L5.12365 12.6916C5.17 13.1625 5.4481 13.5906 5.86524 13.8475C6.60683 14.3612 9.38778 17.8288 9.38778 17.8288C9.48048 17.9144 9.61953 18 9.75858 18C9.89763 18 9.99032 18 9.99032 18C9.99032 18 10.1294 18 10.2221 18C10.3148 18 10.5002 17.9144 10.5929 17.8288C10.5929 17.8288 13.3275 14.3184 14.1154 13.8475C14.5325 13.5906 14.8106 13.1625 14.857 12.6916L15.2741 9.73779C15.2741 9.60936 15.3668 9.43813 15.4595 9.39532L17.916 7.25485C18.0551 7.12642 18.0087 7.08361 17.8697 7.08361ZM8.59985 12.4348C6.74588 11.5786 6.28239 9.43813 6.28239 9.43813L9.06334 11.5786C9.06334 11.5786 9.52683 12.4348 8.59985 12.4348ZM11.3808 12.4348C10.4538 12.4348 10.9173 11.5786 10.9173 11.5786L13.6983 9.43813C13.6983 9.43813 13.2348 11.5786 11.3808 12.4348Z"
                  fill="currentColor"
                ></path>
              </svg>
              <span th:text="${team.objectives.baron.kills}">0</span>
            </div>
          </div>
          <div class="team-info">
            <div class="team-gold" th:text="${teamGold}">0</div>
            <div
              class="team-kills"
              th:text="${team.objectives.champion.kills} + ' 킬'"
            >
              0
            </div>
          </div>
        </div>
        <div class="participants">
          <div
            th:each="participant : ${participants}"
            th:if="${participant.teamId == teamId}"
            class="participant"
          >
            <div class="position-icon">
              <img
                th:src="${@dataDragonUtil.getLaneImageUrl(participant.teamPosition)}"
                class="position-image"
              />
            </div>
            <div class="champion-info">
              <img
                th:src="${@dataDragonUtil.getChampionImageUrl(participant.championName)}"
                class="champion-image"
              />
              <div class="spells">
                <img
                  th:src="${@dataDragonUtil.getSpellImageUrl(participant.summoner1Id)}"
                  class="spell-image"
                />
                <img
                  th:src="${@dataDragonUtil.getSpellImageUrl(participant.summoner2Id)}"
                  class="spell-image"
                />
              </div>
              <div class="runes">
                <img
                  th:src="${@dataDragonUtil.getRuneImageUrl(participant.perks.styles[0].selections[0].perk)}"
                  class="rune-image"
                />
                <img
                  th:src="${@dataDragonUtil.getSubRuneImageUrl(participant.perks.styles[1].style)}"
                  class="rune-image"
                />
              </div>
            </div>
            <div class="player-info">
              <a
                class="summoner-name"
                th:href="@{/search(summoner=${participant.riotIdGameName} + '#' + ${participant.riotIdTagline})}"
                style="text-decoration: none; color: inherit"
              >
                <span
                  class="summoner-name"
                  th:text="${participant.riotIdGameName + '#' + participant.riotIdTagline}"
                  th:title="${participant.riotIdGameName + '#' + participant.riotIdTagline}"
                  >소환사명</span
                ></a
              >
              <div class="kda">
                <span class="kda-s" th:text="${participant.kills}">0</span
                ><span class="kda-s">/</span
                ><span
                  class="kda-s"
                  style="color: red"
                  th:text="${participant.deaths}"
                  >0</span
                ><span class="kda-s">/</span
                ><span class="kda-s" th:text="${participant.assists}">0</span>
                <span
                  th:text="${participant.deaths > 0 ? #numbers.formatDecimal(1.000 * (participant.kills + participant.assists) / participant.deaths, 1, 2) : '∞'}"
                  class="kda-value"
                  >(0.00)</span
                >
              </div>
              <div class="details">
                <span
                  class="cs"
                  th:text="${participant.totalMinionsKilled + participant.neutralMinionsKilled + ' CS'}"
                  >0
                </span>
                <span
                  class="cs-per-minute"
                  th:text="'(' + ${#numbers.formatDecimal(1.00 * (participant.totalMinionsKilled + participant.neutralMinionsKilled) / gameTime, 1, 1)} + ')'"
                  >(0.0)</span
                >
                <span
                  class="gold"
                  th:text="${#numbers.formatInteger(participant.goldEarned / 1000, 1, 'COMMA') + 'k'}"
                  >0</span
                >
              </div>
            </div>
            <div class="items">
              <div class="item-row">
                <img
                  th:if="${participant.item0}"
                  th:src="${@dataDragonUtil.getItemImageUrl(participant.item0)}"
                  class="item-image"
                />
                <img
                  th:if="${participant.item1}"
                  th:src="${@dataDragonUtil.getItemImageUrl(participant.item1)}"
                  class="item-image"
                />
                <img
                  th:if="${participant.item2}"
                  th:src="${@dataDragonUtil.getItemImageUrl(participant.item2)}"
                  class="item-image"
                />
              </div>
              <div class="item-row">
                <img
                  th:if="${participant.item3}"
                  th:src="${@dataDragonUtil.getItemImageUrl(participant.item3)}"
                  class="item-image"
                />
                <img
                  th:if="${participant.item4}"
                  th:src="${@dataDragonUtil.getItemImageUrl(participant.item4)}"
                  class="item-image"
                />
                <img
                  th:if="${participant.item5}"
                  th:src="${@dataDragonUtil.getItemImageUrl(participant.item5)}"
                  class="item-image"
                />
                <img
                  th:if="${participant.item6}"
                  th:src="${@dataDragonUtil.getItemImageUrl(participant.item6)}"
                  class="ward-image"
                />
              </div>
            </div>
            <div class="damage-info">
              <span
                class="damage-text"
                th:text="${#numbers.formatInteger(participant.totalDamageDealtToChampions, 1, 'COMMA')}"
                >0</span
              >
              <div class="damage-bar">
                <div
                  th:class="${teamId == 100 ? 'damage-fill-blue' : 'damage-fill-red'}"
                  th:style="'width: ' + (${teamMaxDealt > 0 ? (100 * participant.totalDamageDealtToChampions / teamMaxDealt) : 0}) + '%; height: 100%;'"
                ></div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
